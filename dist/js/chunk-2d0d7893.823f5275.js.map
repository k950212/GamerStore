{"version":3,"sources":["webpack:///./src/views/UserCart.vue","webpack:///./src/views/UserCart.vue?6ec1"],"names":["_createElementVNode","class","style","aria-label","aria-current","_hoisted_19","_hoisted_29","_hoisted_40","colspan","href","role","_hoisted_63","_createVNode","_component_Loading","active","$data","isLoading","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_component_router_link","to","_hoisted_6","_hoisted_7","_hoisted_8","cart","total","_createElementBlock","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","onClick","_cache","args","$options","gotoproducts","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","type","removeCarts","carts","_Fragment","key","_renderList","item","id","_hoisted_21","_hoisted_22","_normalizeStyle","product","imageUrl","_toDisplayString","title","_hoisted_23","qty","$event","min","onChange","updateCart","disabled","status","loadingItem","_hoisted_25","unit","_hoisted_26","final_total","_hoisted_27","_ctx","$filters","currency","removeCartItem","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","coupon_code","placeholder","_hoisted_38","addCouponCode","_hoisted_39","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","gotoBill","_hoisted_45","_hoisted_46","_hoisted_47","_hoisted_48","_hoisted_49","products","slice","number","_hoisted_50","src","alt","_hoisted_52","getProduct","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","origin_price","_hoisted_59","price","_hoisted_60","addCart","_hoisted_62","_hoisted_64","_hoisted_65","_hoisted_66","data","form","user","name","email","tel","address","message","methods","getrandomN","Math","floor","random","this","getProducts","api","$http","get","then","res","$router","push","product_id","post","$httpMessageState","getCart","console","log","put","delete","coupon","code","createOrder","order","orderId","alert","created","window","scrollTo","__exports__","render"],"mappings":"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","file":"js/chunk-2d0d7893.823f5275.js","sourcesContent":["<template>\r\n  <Loading :active=\"isLoading\"></Loading>\r\n  <div class=\"cartimg d-flex align-items-center justify-content-center p-5\">\r\n    <p class=\"h1 fs-bold text-light\">購物去</p>\r\n  </div>\r\n  <div class=\"container py-5\" style=\"min-height: 700px\">\r\n    <nav aria-label=\"breadcrumb\">\r\n      <ol class=\"breadcrumb\">\r\n        <li class=\"breadcrumb-item\">\r\n          <router-link\r\n            to=\"/\"\r\n            class=\"text-danger fw-bold\"\r\n            style=\"text-decoration: none\"\r\n            >首頁</router-link\r\n          >\r\n        </li>\r\n        <li class=\"breadcrumb-item active\" aria-current=\"page\">購物車</li>\r\n      </ol>\r\n    </nav>\r\n\r\n    <h3>購物車</h3>\r\n    <hr />\r\n    <div\r\n      class=\"col-md-12 bg-light p-5 d-flex justify-content-center align-items-center\"\r\n      v-if=\"this.cart.total == 0\"\r\n      style=\"min-height: 400px\"\r\n    >\r\n      <div class=\"text-center\">\r\n        <i class=\"bi bi-cart display-1 fw-bold\"></i>\r\n        <p class=\"h5 fw-bold p-2\">購物車內無商品</p>\r\n        <button\r\n          class=\"btn p-2 btn-outline-danger\"\r\n          @click=\"gotoproducts\"\r\n          style=\"font-size: 15px\"\r\n        >\r\n          繼續選購\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <div class=\"row mt-4\" v-else>\r\n      <div class=\"col-md-8\">\r\n        <table class=\"table align-middle\">\r\n          <thead>\r\n            <tr>\r\n              <th>品名</th>\r\n              <th style=\"width: 110px\" class=\"text-end\">數量</th>\r\n              <th class=\"text-end\">單價</th>\r\n              <th>\r\n                <button\r\n                  type=\"button\"\r\n                  class=\"btn btn-outline-secondary btn-sm\"\r\n                  @click=\"removeCarts\"\r\n                >\r\n                  <i class=\"bi bi-trash-fill\"></i>\r\n                </button>\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <template v-if=\"cart.carts\">\r\n              <tr\r\n                v-for=\"item in cart.carts\"\r\n                :key=\"item.id\"\r\n                class=\"align-items-center\"\r\n              >\r\n                <td>\r\n                  <div class=\"d-flex align-items-center\">\r\n                    <div style=\"width: 200px\">\r\n                      <div\r\n                        style=\"\r\n                          height: 150px;\r\n                          background-size: cover;\r\n                          background-position: center;\r\n                        \"\r\n                        :style=\"{\r\n                          backgroundImage: `url(${item.product.imageUrl})`,\r\n                        }\"\r\n                      ></div>\r\n                    </div>\r\n\r\n                    <div>\r\n                      <p>\r\n                        {{ item.product.title }}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                </td>\r\n                <td>\r\n                  <div class=\"input-group input-group-sm\">\r\n                    <input\r\n                      type=\"number\"\r\n                      class=\"form-control\"\r\n                      v-model.number=\"item.qty\"\r\n                      min=\"1\"\r\n                      @change=\"updateCart(item)\"\r\n                      :disabled=\"item.id === status.loadingItem\"\r\n                    />\r\n                    <div class=\"input-group-text\">\r\n                      / {{ item.product.unit }}\r\n                    </div>\r\n                  </div>\r\n                </td>\r\n                <td class=\"text-end\">\r\n                  <small\r\n                    v-if=\"cart.final_total !== cart.total\"\r\n                    class=\"text-success\"\r\n                    >折扣價：</small\r\n                  >\r\n                  {{ $filters.currency(item.final_total) }}\r\n                </td>\r\n                <td>\r\n                  <button\r\n                    type=\"button\"\r\n                    class=\"btn btn-outline-danger btn-sm\"\r\n                    :disabled=\"status.loadingItem === item.id\"\r\n                    @click=\"removeCartItem(item.id)\"\r\n                  >\r\n                    <i class=\"bi bi-x\"></i>\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            </template>\r\n          </tbody>\r\n          <tfoot></tfoot>\r\n        </table>\r\n      </div>\r\n      <div class=\"col-md-4\">\r\n        <div class=\"border border-primary\" style=\"padding: 20px\">\r\n          <div class=\"d-flex justify-content-between\">\r\n            <p>總計：</p>\r\n            <p>{{ $filters.currency(cart.total) }}</p>\r\n          </div>\r\n          <div class=\"input-group mb-3 input-group-sm\">\r\n            <input\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              v-model=\"coupon_code\"\r\n              placeholder=\"請輸入優惠碼\"\r\n              :disabled=\"cart.final_total !== cart.total\"\r\n            />\r\n            <div class=\"input-group-append\">\r\n              <button\r\n                class=\"btn btn-outline-secondary\"\r\n                type=\"button\"\r\n                @click=\"addCouponCode\"\r\n              >\r\n                套用\r\n              </button>\r\n            </div>\r\n          </div>\r\n          <div v-if=\"cart.final_total !== cart.total\">\r\n            <p class=\"text-end text-success\">已套用優惠券</p>\r\n          </div>\r\n          <div\r\n            class=\"d-flex justify-content-between\"\r\n            v-if=\"cart.final_total !== cart.total\"\r\n          >\r\n            <p colspan=\"3\" class=\"text-end text-success\">折扣價</p>\r\n            <p class=\"text-end text-success\">\r\n              {{ $filters.currency(cart.final_total) }}\r\n            </p>\r\n          </div>\r\n          <button type=\"button\" class=\"btn btn-danger w-100\" @click=\"gotoBill\">\r\n            去結帳\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row mt-4\">\r\n      <section class=\"pb-5\">\r\n        <div class=\"container\">\r\n          <div class=\"d-flex justify-content-between\">\r\n            <h4>猜你可能會喜歡</h4>\r\n            <a\r\n              href=\"#/user/userproducts\"\r\n              class=\"text-decoration-none fs-5 fw-bold\"\r\n              >更多商品</a\r\n            >\r\n          </div>\r\n          <div class=\"row col-lg-12\">\r\n            <div\r\n              class=\"col-md-6 col-lg-4 col-xl-3\"\r\n              style=\"height: 430px\"\r\n              v-for=\"item in products.slice(number, number + 4)\"\r\n              :key=\"item.id\"\r\n            >\r\n              <div class=\"card flex h-100 w-100 productcard\">\r\n                <img\r\n                  :src=\"item.imageUrl\"\r\n                  class=\"card-img-top img-fluid\"\r\n                  alt=\"#\"\r\n                  style=\"\r\n                    min-height: 200px;\r\n                    background-color: black;\r\n                    display: block;\r\n                    width: 100%;\r\n\r\n                    object-fit: cover;\r\n                  \"\r\n                />\r\n\r\n                <div class=\"card-body\">\r\n                  <a\r\n                    class=\"btn stretched-link\"\r\n                    @click=\"getProduct(item.id)\"\r\n                  ></a>\r\n                  <div class=\"d-flex justify-content-between\">\r\n                    <h5 class=\"card-title\" style=\"max-height: 35px\">\r\n                      {{ item.title }}\r\n                    </h5>\r\n                  </div>\r\n                  <hr />\r\n                  <div class=\"text-end\">\r\n                    <del class=\"text-danger\">NT:{{ item.origin_price }}</del>\r\n                    <p class=\"text-success h3\">NT:{{ item.price }}</p>\r\n                  </div>\r\n                  <div class=\"text-end\">\r\n                    <button\r\n                      type=\"button\"\r\n                      class=\"btn btn-outline-danger\"\r\n                      @click=\"addCart(item.id)\"\r\n                      v-bind:disabled=\"this.status.loadingItem === item.id\"\r\n                      style=\"z-index: 2; position: relative\"\r\n                    >\r\n                      <div\r\n                        v-if=\"this.status.loadingItem === item.id\"\r\n                        class=\"spinner-border spinner-border-sm text-danger\"\r\n                        role=\"status\"\r\n                      >\r\n                        <span class=\"visually-hidden\">Loading...</span>\r\n                      </div>\r\n\r\n                      <i class=\"bi bi-cart\"></i>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                <div\r\n                  class=\"info d-flex justify-content-center align-items-center\"\r\n                >\r\n                  <p class=\"text-white fw-bold h4\">詳細內容</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      products: [], // 產品列表\r\n      product: {}, // 個別產品\r\n      status: {\r\n        loadingItem: \"\", // 對應品項ID\r\n      },\r\n      cart: {}, // 購物車\r\n      coupon_code: \"\", // 優惠碼\r\n      isLoading: false,\r\n      form: {\r\n        user: {\r\n          name: \"\",\r\n          email: \"\",\r\n          tel: \"\",\r\n          address: \"\",\r\n        },\r\n        message: \"\",\r\n      },\r\n      number: \"\",\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    getrandomN() {\r\n      const number = Math.floor(Math.random() * 25);\r\n      this.number = number;\r\n    },\r\n    getProducts() {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;\r\n      this.isLoading = true;\r\n      this.$http.get(api).then((res) => {\r\n        // console.log(res);\r\n        this.products = res.data.products;\r\n        this.isLoading = false;\r\n      });\r\n    },\r\n    getProduct(id) {\r\n      this.$router.push(`/user/product/${id}`);\r\n    },\r\n    addCart(id) {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\r\n      this.isLoading = true;\r\n      this.status.loadingItem = id;\r\n      const cart = {\r\n        product_id: id,\r\n        qty: 1,\r\n      };\r\n      this.$http.post(api, { data: cart }).then((res) => {\r\n        this.$httpMessageState(res, \"新增至購物車\");\r\n        this.status.loadingItem = \"\";\r\n        // console.log(res);\r\n        this.getCart();\r\n        this.isLoading = false;\r\n      });\r\n    },\r\n    getCart() {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\r\n      this.$http.get(api).then((res) => {\r\n        console.log(res);\r\n        this.cart = res.data.data;\r\n      });\r\n    },\r\n    updateCart(item) {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${item.id}`;\r\n      this.isLoading = true;\r\n      this.status.loadingItem = item.id;\r\n      const cart = {\r\n        product_id: item.product_id,\r\n        qty: item.qty,\r\n      };\r\n      this.$http.put(api, { data: cart }).then((res) => {\r\n        console.log(res);\r\n        this.status.loadingItem = \"\";\r\n        this.getCart();\r\n        this.isLoading = false;\r\n      });\r\n    },\r\n    removeCartItem(id) {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${id}`;\r\n      this.isLoading = true;\r\n      this.$http.delete(api).then((res) => {\r\n        this.$httpMessageState(res, \"從購物車刪除\");\r\n        console.log(res);\r\n        this.getCart();\r\n        this.isLoading = false;\r\n      });\r\n    },\r\n    removeCarts() {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/carts`;\r\n      this.isLoading = true;\r\n      this.$http.delete(api).then((res) => {\r\n        this.$httpMessageState(res, \"購物車清空\");\r\n        console.log(res);\r\n        this.getCart();\r\n        this.isLoading = false;\r\n      });\r\n    },\r\n    addCouponCode() {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/coupon`;\r\n      const coupon = {\r\n        code: this.coupon_code,\r\n      };\r\n      this.isLoading = true;\r\n      this.$http.post(api, { data: coupon }).then((res) => {\r\n        this.$httpMessageState(res, \"加入優惠券\");\r\n        this.getCart();\r\n        this.isLoading = false;\r\n      });\r\n    },\r\n    createOrder() {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`;\r\n      this.isLoading = true;\r\n      const order = this.form;\r\n      this.$http.post(api, { data: order }).then((res) => {\r\n        console.log(res);\r\n        // -NTgEbYUmOtGaYY6GsZ3\r\n        this.isLoading = false;\r\n        this.$httpMessageState(res, \"建立訂單\");\r\n        this.getCart();\r\n        this.$router.push(`/user/checkout/${res.data.orderId}`);\r\n      });\r\n    },\r\n    gotoBill() {\r\n      console.log(\"去結帳\");\r\n      if (this.cart.total !== 0) {\r\n        this.$router.push(`/user/cartbill`);\r\n      } else {\r\n        alert(\"請先將商品加入購物車\");\r\n      }\r\n    },\r\n    gotoproducts() {\r\n      this.$router.push(`/user/userproducts`);\r\n    },\r\n  },\r\n  created() {\r\n    this.getProducts();\r\n    this.getCart();\r\n    window.scrollTo(0, -1);\r\n    this.getrandomN();\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./UserCart.vue?vue&type=template&id=d9f3977c\"\nimport script from \"./UserCart.vue?vue&type=script&lang=js\"\nexport * from \"./UserCart.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\hkm\\\\Desktop\\\\Project\\\\GamerStore\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}