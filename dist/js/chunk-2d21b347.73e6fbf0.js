(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21b347"],{bf7d:function(t,e,c){"use strict";c.r(e);var s=c("7a23");const i={class:"container"},o={class:"col-md-12"},a={class:"table"},r=Object(s["h"])("thead",null,[Object(s["h"])("tr",null,[Object(s["h"])("th",null,"圖片"),Object(s["h"])("th",null,"商品名稱"),Object(s["h"])("th",null,"價格"),Object(s["h"])("th",null,"控制")])],-1),l={style:{width:"200px"}},n={href:"#",class:"text-dark",style:{"text-decoration":"none"}},d={key:0,class:"h5"},h={key:1,class:"h6"},b={key:2,class:"h5"},u=["onClick"],p=["onClick","disabled"],g={key:0,class:"spinner-border spinner-border-sm text-danger",role:"status"},j=Object(s["h"])("span",{class:"visually-hidden"},"Loading...",-1),O=[j];function y(t,e,c,j,y,k){return Object(s["B"])(),Object(s["g"])("div",i,[Object(s["h"])("div",o,[Object(s["h"])("table",a,[r,Object(s["h"])("tbody",null,[(Object(s["B"])(!0),Object(s["g"])(s["a"],null,Object(s["G"])(k.titleProducts,t=>(Object(s["B"])(),Object(s["g"])("tr",{key:t.id},[Object(s["h"])("td",l,[Object(s["h"])("div",{style:Object(s["t"])([{height:"100px","background-size":"cover","background-position":"center"},{backgroundImage:`url(${t.imageUrl})`}])},null,4)]),Object(s["h"])("td",null,[Object(s["h"])("a",n,Object(s["L"])(t.title),1)]),Object(s["h"])("td",null,[t.price?Object(s["f"])("",!0):(Object(s["B"])(),Object(s["g"])("div",d,Object(s["L"])(t.origin_price)+" 元 ",1)),t.price?(Object(s["B"])(),Object(s["g"])("del",h,"原價 "+Object(s["L"])(t.origin_price)+" 元",1)):Object(s["f"])("",!0),t.price?(Object(s["B"])(),Object(s["g"])("div",b," 現在只要 "+Object(s["L"])(t.price)+" 元 ",1)):Object(s["f"])("",!0)]),Object(s["h"])("td",null,[Object(s["h"])("button",{type:"button",class:"btn btn-outline-secondary",onClick:e=>k.getProduct(t.id)}," 查看更多 ",8,u),Object(s["h"])("button",{type:"button",class:"btn btn-outline-danger",onClick:e=>k.addCart(t.id),disabled:this.status.loadingItem===t.id},[this.status.loadingItem===t.id?(Object(s["B"])(),Object(s["g"])("div",g,O)):Object(s["f"])("",!0),Object(s["j"])(" 加到購物車 ")],8,p)])]))),128))])])])])}c("14d9");var k={data(){return{products:[],product:{},status:{loadingItem:""},cart:{},isLoading:!1,category:"ALL",select:{title:""},list:["ALL","鍵盤","滑鼠","耳機","其他","椅子","手把","螢幕","主機"],isActive:0}},computed:{typeProducts(){return"ALL"===this.category?this.products:this.products.filter(t=>t.category===this.category)},titleProducts(){return this.select.title?this.typeProducts.filter(t=>-1!==t.title.toLowerCase().indexOf(this.select.title.toLowerCase())):this.typeProducts}},methods:{changeClass(t){console.log(t),this.isActive=t,document.getElementById("search").scrollIntoView({behavior:"smooth",block:"center"})},gocategory(t){console.log(t),this.category=t},getProducts(){const t="https://vue3-course-api.hexschool.io/api/k950212-api/products/all";this.isLoading=!0,this.$http.get(t).then(t=>{this.products=t.data.products,this.isLoading=!1})},getProduct(t){this.$router.push("/user/product/"+t)},getCart(){const t="https://vue3-course-api.hexschool.io/api/k950212-api/cart";this.$http.get(t).then(t=>{console.log(t),this.cart=t.data.data})},addCart(t){const e="https://vue3-course-api.hexschool.io/api/k950212-api/cart";this.isLoading=!0,this.status.loadingItem=t;const c={product_id:t,qty:1};this.$http.post(e,{data:c}).then(t=>{this.$httpMessageState(t,"新增至購物車"),this.status.loadingItem="",this.isLoading=!1})}},created(){this.getProducts(),this.getCart(),window.scrollTo(0,-1)}},L=c("6b0d"),v=c.n(L);const m=v()(k,[["render",y]]);e["default"]=m}}]);
//# sourceMappingURL=chunk-2d21b347.73e6fbf0.js.map