{"version":3,"sources":["webpack:///./src/views/Productslist.vue","webpack:///./src/views/Productslist.vue?1d98"],"names":["class","_createElementVNode","style","href","role","_hoisted_13","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_Fragment","_renderList","$options","titleProducts","item","key","id","_hoisted_5","_normalizeStyle","backgroundImage","imageUrl","_hoisted_6","_toDisplayString","title","price","_hoisted_7","origin_price","_hoisted_8","_hoisted_9","type","onClick","$event","getProduct","_hoisted_10","addCart","disabled","status","loadingItem","_hoisted_12","_hoisted_14","data","products","product","cart","isLoading","category","select","list","isActive","computed","typeProducts","this","filter","toLowerCase","indexOf","methods","changeClass","i","console","log","document","getElementById","scrollIntoView","behavior","block","gocategory","getProducts","api","$http","get","then","res","$router","push","getCart","product_id","qty","post","$httpMessageState","created","window","scrollTo","__exports__","render"],"mappings":"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","file":"js/chunk-2d21b347.73e6fbf0.js","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"col-md-12\">\r\n      <table class=\"table\">\r\n        <thead>\r\n          <tr>\r\n            <th>圖片</th>\r\n            <th>商品名稱</th>\r\n            <th>價格</th>\r\n            <th>控制</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr v-for=\"item in titleProducts\" :key=\"item.id\">\r\n            <td style=\"width: 200px\">\r\n              <div\r\n                style=\"\r\n                  height: 100px;\r\n                  background-size: cover;\r\n                  background-position: center;\r\n                \"\r\n                :style=\"{ backgroundImage: `url(${item.imageUrl})` }\"\r\n              ></div>\r\n            </td>\r\n            <td>\r\n              <a href=\"#\" class=\"text-dark\" style=\"text-decoration: none\">{{\r\n                item.title\r\n              }}</a>\r\n            </td>\r\n            <td>\r\n              <div class=\"h5\" v-if=\"!item.price\">\r\n                {{ item.origin_price }} 元\r\n              </div>\r\n              <del class=\"h6\" v-if=\"item.price\"\r\n                >原價 {{ item.origin_price }} 元</del\r\n              >\r\n              <div class=\"h5\" v-if=\"item.price\">\r\n                現在只要 {{ item.price }} 元\r\n              </div>\r\n            </td>\r\n            <td>\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-outline-secondary\"\r\n                @click=\"getProduct(item.id)\"\r\n              >\r\n                查看更多\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-outline-danger\"\r\n                @click=\"addCart(item.id)\"\r\n                v-bind:disabled=\"this.status.loadingItem === item.id\"\r\n              >\r\n                <div\r\n                  v-if=\"this.status.loadingItem === item.id\"\r\n                  class=\"spinner-border spinner-border-sm text-danger\"\r\n                  role=\"status\"\r\n                >\r\n                  <span class=\"visually-hidden\">Loading...</span>\r\n                </div>\r\n                加到購物車\r\n              </button>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      products: [], // 產品列表\r\n      product: {}, // 個別產品\r\n      status: {\r\n        loadingItem: \"\", // 對應品項ID\r\n      },\r\n      cart: {},\r\n      isLoading: false,\r\n      category: \"ALL\", // 點擊後存放的分類\r\n      select: {\r\n        // 搜尋title\r\n        title: \"\",\r\n      },\r\n      list: [\r\n        \"ALL\",\r\n        \"鍵盤\",\r\n        \"滑鼠\",\r\n        \"耳機\",\r\n        \"其他\",\r\n        \"椅子\",\r\n        \"手把\",\r\n        \"螢幕\",\r\n        \"主機\",\r\n      ],\r\n      isActive: 0,\r\n    };\r\n  },\r\n  // 篩選\r\n  computed: {\r\n    typeProducts() {\r\n      if (this.category === \"ALL\") {\r\n        return this.products;\r\n      } else {\r\n        return this.products.filter((item) => {\r\n          return item.category === this.category;\r\n        });\r\n      }\r\n    },\r\n    titleProducts() {\r\n      if (this.select.title) {\r\n        return this.typeProducts.filter((item) => {\r\n          return (\r\n            item.title\r\n              .toLowerCase()\r\n              .indexOf(this.select.title.toLowerCase()) !== -1\r\n          );\r\n        });\r\n      } else {\r\n        return this.typeProducts;\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    changeClass(i) {\r\n      console.log(i);\r\n      this.isActive = i;\r\n      document\r\n        .getElementById(\"search\")\r\n        .scrollIntoView({ behavior: \"smooth\", block: \"center\" });\r\n    },\r\n    gocategory(category) {\r\n      console.log(category);\r\n      this.category = category;\r\n    },\r\n    getProducts() {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;\r\n      this.isLoading = true;\r\n      this.$http.get(api).then((res) => {\r\n        // console.log(res);\r\n        this.products = res.data.products;\r\n        this.isLoading = false;\r\n      });\r\n    },\r\n    getProduct(id) {\r\n      this.$router.push(`/user/product/${id}`);\r\n    },\r\n    getCart() {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\r\n      this.$http.get(api).then((res) => {\r\n        console.log(res);\r\n        this.cart = res.data.data;\r\n      });\r\n    },\r\n    addCart(id) {\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\r\n      this.isLoading = true;\r\n      this.status.loadingItem = id;\r\n      const cart = {\r\n        product_id: id,\r\n        qty: 1,\r\n      };\r\n      this.$http.post(api, { data: cart }).then((res) => {\r\n        this.$httpMessageState(res, \"新增至購物車\");\r\n        this.status.loadingItem = \"\";\r\n        // console.log(res);\r\n\r\n        this.isLoading = false;\r\n      });\r\n    },\r\n  },\r\n  created() {\r\n    this.getProducts();\r\n    this.getCart();\r\n    window.scrollTo(0, -1);\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./Productslist.vue?vue&type=template&id=00e46d44\"\nimport script from \"./Productslist.vue?vue&type=script&lang=js\"\nexport * from \"./Productslist.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\hkm\\\\Desktop\\\\Project\\\\GamerStore\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}